function V4Zocalo(){this.setDivs=function(){var c=this.f.getName("zocalo"),a=this.ad.ld||this.f.getName("layer"),b=this;this.divs={zocalo:b.f.setDiv(c),layer:b.f.setDiv(a)};};this.show=function(a){this.ad=a;this.setDivs();this.zocalo.show();if(a.tracker){a.tracker.inicioAnuncio();}return true;};this.f={z:this,getWidth:function(){return eplDoc.epl.getSW();},getHeight:function(){return eplDoc.epl.getSH();},getCenterX:function(b){return(this.getWidth()-b.w)/2;},getCenterY:function(b){return(this.getHeight()-b.h)/2;},getName:function(a){return a+"_"+this.z.ad.eI;},setDiv:function(a){var b;if(eplDoc.getElementById(a)){return eplDoc.getElementById(a);}b=eplDoc.createElement("div");b.setAttribute("id",a);eplDoc.body.appendChild(b);return b;},empty:function(a){if(!a){return true;}return a.innerHTML?false:true;},html:function(b,a){b.innerHTML=a;},remove:function(a){if(a){this.html(a,"");if(a.parentNode){a.parentNode.removeChild(a);}}},inArray:function(b,a){return a.indexOf(b)===-1?false:true;},col:function(c,a){var b;for(b in a){if(a.hasOwnProperty(b)){if(this.inArray(c,a[b])){return a[b].indexOf(c).toString();}}}},row:function(c,a){var b;for(b in a){if(a.hasOwnProperty(b)){if(this.inArray(c,a[b])){return b.toString();}}}},de:{BANNER_EXPANSION_VERTICAL:5,BANNER_EXPANSION_HORIZONTAL:6,BANNER_EXPANSION_DIAGONAL:7},anc:{ANCLAJE_SIN_POSICION:0,ANCLAJE_TOP:1,ANCLAJE_BOTTOM:2,ANCLAJE_LEFT:3,ANCLAJE_RIGHT:4,ANCLAJE_TOP_LEFT:5,ANCLAJE_TOP_RIGHT:6,ANCLAJE_BOTTOM_LEFT:7,ANCLAJE_BOTTOM_RIGHT:8},arr:function(){return[[this.anc.ANCLAJE_TOP_LEFT,this.anc.ANCLAJE_TOP,this.anc.ANCLAJE_TOP_RIGHT],[this.anc.ANCLAJE_LEFT,this.anc.ANCLAJE_SIN_POSICION,this.anc.ANCLAJE_RIGHT],[this.anc.ANCLAJE_BOTTOM_LEFT,this.anc.ANCLAJE_BOTTOM,this.anc.ANCLAJE_BOTTOM_RIGHT]];},timers:{tx:null,ty:null}};this.zocalo={z:this,show:function(){if(this.z.f.empty(this.z.divs.zocalo)){this.z.setDivs();if(this.z.ad.isJS()){this.z.ad.setHTML5Tag(this.z.divs.zocalo,1);}else{this.z.f.html(this.z.divs.zocalo,this.z.ad.getBaseTag(1));}this.setSize();this.setPosition();}},hide:function(){this.z.f.remove(this.z.divs.zocalo);},setSize:function(){if(this.z.ad.cr){this.z.divs.zocalo.style.width=this.z.ad.zpw+"%";this.z.divs.zocalo.style.height=this.z.ad.zph+"%";}else{this.z.divs.zocalo.style.width=this.z.ad.a[1].w+"px";this.z.divs.zocalo.style.height=this.z.ad.a[1].h+"px";}},setPosition:function(){var a=this.z.f.arr(),c=this.z.ad.anc,d=this.z.f.row(c,a),b=this.z.f.col(c,a);this.z.divs.zocalo.style.position="fixed";this.z.divs.zocalo.style.zIndex=this.z.ad.z||9999;if(c){if("0"===d){this.z.divs.zocalo.style.top="0px";}else{if("1"===d){this.z.divs.zocalo.style.top=this.z.f.getCenterY(this.z.ad.a[1])+"px";}else{if("2"===d){this.z.divs.zocalo.style.bottom="0px";}}}if("0"===b){this.z.divs.zocalo.style.left="0px";}else{if("1"===b){this.z.divs.zocalo.style.left=this.z.f.getCenterX(this.z.ad.a[1])+"px";}else{if("2"===b){this.z.divs.zocalo.style.right="0px";}}}}},hideOption:function(){if(this.z.ad.oz){this.hide();}}};this.layer={z:this,show:function(){if(this.z.f.empty(this.z.divs.layer)){this.z.setDivs();if(this.z.ad.isJS()){this.z.ad.setHTML5Tag(this.z.divs.layer,2);}else{this.z.f.html(this.z.divs.layer,this.z.ad.getBaseTag(2));}this.setSize();this.move();}},hide:function(){this.z.f.remove(this.z.divs.layer);if(this.z.ad.oz){eplDoc.epl.helpers.zocalo.zocalo.show();}},setSize:function(){this.z.divs.layer.style.width=this.z.ad.a[2].w+"px";this.z.divs.layer.style.height=this.z.ad.a[2].h+"px";},getPos:function(){var b=this.z.f.arr(),d=this.z.ad.anc,e=this.z.f.row(d,b),c=this.z.f.col(d,b),a,g,f=this.getDireccion(this.z.ad.de);if(d){if("0"===e){g={attr:"top"};if(this.z.f.de.BANNER_EXPANSION_VERTICAL===f||this.z.f.de.BANNER_EXPANSION_DIAGONAL===f){g.pos=this.z.ad.a[1].h;}else{if(this.z.f.de.BANNER_EXPANSION_HORIZONTAL===f){g.pos=0;}}}else{if("1"===e){g={attr:"top"};if(this.z.f.de.BANNER_EXPANSION_VERTICAL===f||this.z.f.de.BANNER_EXPANSION_DIAGONAL===f){g.pos=this.z.f.getCenterY(this.z.ad.a[1])+(this.z.ad.a[1].h/2);}else{if(this.z.f.de.BANNER_EXPANSION_HORIZONTAL===f){g.pos=this.z.f.getCenterY(this.z.ad.a[2]);}}}else{if("2"===e){g={attr:"bottom"};if(this.z.f.de.BANNER_EXPANSION_VERTICAL===f||this.z.f.de.BANNER_EXPANSION_DIAGONAL===f){g.pos=this.z.ad.a[1].h;}else{if(this.z.f.de.BANNER_EXPANSION_HORIZONTAL===f){g.pos=0;}}}}}if("0"===c){a={attr:"left"};if(this.z.f.de.BANNER_EXPANSION_HORIZONTAL===f||this.z.f.de.BANNER_EXPANSION_DIAGONAL===f){a.pos=this.z.ad.a[1].w;}else{if(this.z.f.de.BANNER_EXPANSION_VERTICAL===f){a.pos=0;}}}else{if("1"===c){a={attr:"left"};if(this.z.f.de.BANNER_EXPANSION_HORIZONTAL===f||this.z.f.de.BANNER_EXPANSION_DIAGONAL===f){a.pos=this.z.f.getCenterX(this.z.ad.a[1])+(this.z.ad.a[1].w/2);}else{if(this.z.f.de.BANNER_EXPANSION_VERTICAL===f){a.pos=this.z.f.getCenterX(this.z.ad.a[2]);}}}else{if("2"===c){a={attr:"right"};if(this.z.f.de.BANNER_EXPANSION_HORIZONTAL===f||this.z.f.de.BANNER_EXPANSION_DIAGONAL===f){a.pos=this.z.ad.a[1].w;}else{if(this.z.f.de.BANNER_EXPANSION_VERTICAL===f){a.pos=0;}}}}}return{x:a,y:g};}},getDireccion:function(d){var a=this.z.f.arr(),c=this.z.ad.anc,b=this.z.f.col(c,a);if(!d){if("0"===b||"2"===b){d=this.z.f.de.BANNER_EXPANSION_HORIZONTAL;}else{if("1"===b){d=this.z.f.de.BANNER_EXPANSION_VERTICAL;}}}return d;},setPosition:function(a,c){var b=this.getPos();this.z.divs.layer.style.position="fixed";this.z.divs.layer.style.zIndex=this.z.divs.zocalo.style.zIndex-1;this.z.divs.layer.style[(a&&a.attr)||b.x.attr]=((a&&a.pos)||b.x.pos)+"px";this.z.divs.layer.style[(c&&c.attr)||b.y.attr]=((c&&c.pos)||b.y.pos)+"px";},move:function(){var a=this.z.ad.ve,g=this.z.ad.de,f,e,c=this,b,d;if(a){f=this.getPos();e=this.getPos();g=this.getDireccion(g);if(this.z.f.de.BANNER_EXPANSION_HORIZONTAL!==g){e.y.pos+=(("top"===f.y.attr)?1:-1)*(this.z.ad.a[1].h+this.z.ad.a[2].h);}else{e.y.pos=f.y.pos;}if(this.z.f.de.BANNER_EXPANSION_VERTICAL!==g){e.x.pos+=(("left"===f.x.attr)?-1:1)*(this.z.ad.a[1].w+this.z.ad.a[2].w);}else{e.x.pos=f.x.pos;}this.setPosition({attr:e.x.attr,pos:e.x.pos},{attr:e.y.attr,pos:e.y.pos});b=10*a;if(f.x.pos!==e.x.pos){d=Math.abs(Math.abs(e.x.pos)-Math.abs(f.x.pos))/30;this.z.f.timers.tx=setInterval(function(){if(f.x.pos>e.x.pos){e.x.pos+=d;}else{e.x.pos-=d;}c.z.divs.layer.style[e.x.attr]=e.x.pos+"px";if(Math.abs(e.x.pos-f.x.pos)<=d||c.z.f.empty(c.z.divs.layer)){c.endMove();}},b);}if(f.y.pos!==e.y.pos){d=Math.abs(Math.abs(e.y.pos)-Math.abs(f.y.pos))/30;this.z.f.timers.ty=setInterval(function(){if(f.y.pos>e.y.pos){e.y.pos+=d;}else{e.y.pos-=d;}c.z.divs.layer.style[e.y.attr]=e.y.pos+"px";if(Math.abs(e.y.pos-f.y.pos)<=d||c.z.f.empty(c.z.divs.layer)){c.endMove();}},b);}}else{this.setPosition();this.z.zocalo.hideOption();}},endMove:function(){clearInterval(this.z.f.timers.tx);clearInterval(this.z.f.timers.ty);this.setPosition();this.z.zocalo.hideOption();}};}if(!eplDoc.epl.helpers.zocalo){eplDoc.epl.helpers.zocalo=new V4Zocalo();}function eplZocaloExpand(){eplDoc.epl.helpers.zocalo.layer.show();eplDoc.epl.helpers.zocalo.ad.tracker.desplegar();}function eplZocaloShrink(a){eplDoc.epl.helpers.zocalo.layer.hide();if(a){eplDoc.epl.helpers.zocalo.ad.tracker.anuncioCompleto();}else{eplDoc.epl.helpers.zocalo.ad.tracker.replegar();}}function eplZocaloClose(){eplDoc.epl.helpers.zocalo.zocalo.hide();eplDoc.epl.helpers.zocalo.layer.hide();eplDoc.epl.helpers.zocalo.ad.tracker.closeButton();}eplDoc.epl.showByType("zocalo");
